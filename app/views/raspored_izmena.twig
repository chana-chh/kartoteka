{% extends "templates/app.twig" %}

{% block naslov %}
<h1>Izmena podataka ili uklanjanje termina</h1>
<hr>
<form action="{{ path_for('raspored.izmena.post') }}" method="POST" class="uk-form-stacked">
	{{ csrf|raw }}
	<input type="hidden" value="{{ raspored.id }}" name="id" id="id">
	<div uk-grid>
	<div class="uk-width-1-4">
		<label for="start" class="uk-form-label">Početak</label>
		<div class="uk-form-controls">
			<input type="datetime-local" name="start" id="start" value="{{ old.start ? : raspored.datum_start() }}"
				class="uk-input{{ errors.start[0] ? ' uk-form-danger': ''}}" autocomplete="off" autofocus required>
		</div>
		<small class=" uk-text-danger">{{ errors.start[0] ? :'' }}</small>
	</div>
	<div class="uk-width-1-4">
		<label for="end" class="uk-form-label">Kraj</label>
		<div class="uk-form-controls">
			<input type="datetime-local" name="end" id="end" value="{{ old.end ? : raspored.datum_end() }}"
				class="uk-input{{ errors.end[0] ? ' uk-form-danger': ''}}" autocomplete="off" autofocus required>
		</div>
		<small class="uk-text-danger">{{ errors.end[0] ? :'' }}</small>
	</div>

	<div class="uk-width-1-2">
		<label for="title" class="uk-form-label">Opis</label>
		<div class="uk-form-controls">
			<input type="text" name="title" id="title" value="{{ old.title ? : raspored.title }}" class="uk-input{{ errors.title[0] ? ' uk-form-danger': ''}}"
			 autocomplete="off" required>
		</div>
		<small class="uk-text-danger">{{ errors.title[0] ? :'' }}</small>
	</div>
	</div>

	<div uk-grid>
	<div class="uk-button-group uk-width-1-3">
		<button class="uk-button uk-button-primary uk-width-1-3"><span uk-icon="check"></span> Snimi</button>
				<a class="uk-button uk-button-danger uk-width-1-3" href="#modal-brisanje" uk-toggle>
          <span uk-icon="trash"></span> Obriši termin
        </a>
		<a href="{{ path_for('raspored') }}" class="uk-button uk-button-secondary uk-width-1-3">
			<span uk-icon="ban"></span> Otkaži
		</a>
	</div>
</div>
</form>

<!-- MODAL BRISANJE -->
{% include 'inc/termin_brisanje.twig' %}
{% endblock naslov %}
{% block skripta %}
<script>
var brisanje_id = document.getElementById("modal_id");

  document.getElementById("modal_dugme_brisi").addEventListener("click", function () {
  	brisanje_id.value = ["{{raspored.id}}"];
    document.getElementById("forma_brisanje").submit();
  });
</script>
{% endblock skripta %}
